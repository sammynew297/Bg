
document.getElementById('detailsForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevents page refresh

    const formData = new FormData(this);
    const details = Object.fromEntries(formData.entries());

    // Build a readable message from form fields
    let messageLines = ['New Form Submission:'];
    for (const [key, value] of Object.entries(details)) {
        const label = key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
        messageLines.push(`${label}: ${value}`);
    }
    const message = messageLines.join('\n');

    // Open WhatsApp share with the prefilled message
    const waShare = `https://wa.me/+14318047016?text=${encodeURIComponent(message)}`;
    window.open(waShare, '_blank');
});
